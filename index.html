<!doctype html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>libp2p-record 0.7.1 | Documentation</title>
  <meta name='description' content='libp2p record implementation'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' rel='stylesheet'>
  <link href='assets/style.css' rel='stylesheet'>
  <link href='assets/github.css' rel='stylesheet'>
  <link href='assets/split.css' rel='stylesheet'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>libp2p-record</h3>
          <div class='mb1'><code>0.7.1</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#intro'
                  class="h5 bold black caps">
                  Intro
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#constructor'
                  class="">
                  constructor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#serialize'
                  class="">
                  serialize
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#prepareserialize'
                  class="">
                  prepareSerialize
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#deserialize'
                  class="">
                  deserialize
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fromdeserialized'
                  class="">
                  fromDeserialized
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#torfc3339'
                  class="">
                  toRFC3339
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parserfc3339'
                  class="">
                  parseRFC3339
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#verifyrecord'
                  class="">
                  verifyRecord
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#validatepublickeyrecord'
                  class="">
                  validatePublicKeyRecord
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#bestrecord'
                  class="">
                  bestRecord
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#publickeyselector'
                  class="">
                  publicKeySelector
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='intro' class='mt0'>
    Intro
  </h2>

  
    <p>Installable via  <code>npm install --save libp2p-record</code>, it can also be used directly in the browser.</p>
<h2>Download</h2>
<p>The source is available for download from <a href="https://github.com/libp2p/js-libp2p-record.git">GitHub</a>. Alternatively, you can install using npm:</p>
<pre class='hljs'>$ npm install --save libp2p-record</pre>
<p>You can then <code>require()</code> libp2p-record as normal:</p>
<pre class='hljs'><span class="hljs-keyword">const</span> libp2PRecord = <span class="hljs-built_in">require</span>(<span class="hljs-string">'libp2p-record'</span>)</pre>
<h2>In the Browser</h2>
<p>Libp2p-record should work in any ES2015 environment out of the box.</p>
<p>Usage:</p>
<pre class='hljs'><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"index.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></pre>
<p>The portable versions of libp2p-record, including <code>index.js</code> and <code>index.min.js</code>, are included in the <code>/dist</code> folder. Libp2p-record can also be found on <a href="https://unpkg.com">unpkg.com</a> under</p>
<ul>
<li><a href="https://unpkg.com/libp2p-record/dist/index.min.js">https://unpkg.com/libp2p-record/dist/index.min.js</a></li>
<li><a href="https://unpkg.com/libp2p-record/dist/index.js">https://unpkg.com/libp2p-record/dist/index.js</a></li>
</ul>

  
</section></div>
          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='constructor'>
      constructor
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/record.js#L15-L27'>
      <span>src/record.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>constructor(key: <a href="https://nodejs.org/api/buffer.html">Buffer</a>?, value: <a href="https://nodejs.org/api/buffer.html">Buffer</a>?, recvtime: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>?)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>key</span> <code class='quiet'>(<a href="https://nodejs.org/api/buffer.html">Buffer</a>?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(<a href="https://nodejs.org/api/buffer.html">Buffer</a>?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>recvtime</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='serialize'>
      serialize
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/record.js#L32-L34'>
      <span>src/record.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>serialize(): <a href="https://nodejs.org/api/buffer.html">Buffer</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://nodejs.org/api/buffer.html">Buffer</a></code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='prepareserialize'>
      prepareSerialize
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/record.js#L41-L47'>
      <span>src/record.js</span>
      </a>
    
  </div>
  

  <p>Return the object format ready to be given to the protobuf library.</p>

    <div class='pre p1 fill-light mt0'>prepareSerialize(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='deserialize'>
      deserialize
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/record.js#L55-L58'>
      <span>src/record.js</span>
      </a>
    
  </div>
  

  <p>Decode a protobuf encoded record.</p>

    <div class='pre p1 fill-light mt0'>deserialize(raw: <a href="https://nodejs.org/api/buffer.html">Buffer</a>): Record</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>raw</span> <code class='quiet'>(<a href="https://nodejs.org/api/buffer.html">Buffer</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Record</code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fromdeserialized'>
      fromDeserialized
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/record.js#L66-L77'>
      <span>src/record.js</span>
      </a>
    
  </div>
  

  <p>Create a record from the raw object returned from the protobuf library.</p>

    <div class='pre p1 fill-light mt0'>fromDeserialized(obj: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): Record</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>obj</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Record</code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='torfc3339'>
      toRFC3339
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/utils.js#L10-L21'>
      <span>src/utils.js</span>
      </a>
    
  </div>
  

  <p>Convert a JavaScript date into an <code>RFC3339Nano</code> formatted
string.</p>

    <div class='pre p1 fill-light mt0'>toRFC3339(time: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>time</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parserfc3339'>
      parseRFC3339
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/utils.js#L30-L54'>
      <span>src/utils.js</span>
      </a>
    
  </div>
  

  <p>Parses a date string formatted as <code>RFC3339Nano</code> into a
JavaScript Date object.</p>

    <div class='pre p1 fill-light mt0'>parseRFC3339(time: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>time</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='verifyrecord'>
      verifyRecord
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/validator.js#L15-L33'>
      <span>src/validator.js</span>
      </a>
    
  </div>
  

  <p>Checks a record and ensures it is still valid.
It runs the needed validators.
If verification fails the returned Promise will reject with the error.</p>

    <div class='pre p1 fill-light mt0'>verifyRecord</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>validators</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>record</span> <code class='quiet'>(Record)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='validatepublickeyrecord'>
      validatePublicKeyRecord
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/validators/public-key.js#L16-L38'>
      <span>src/validators/public-key.js</span>
      </a>
    
  </div>
  

  <p>Validator for publick key records.
Verifies that the passed in record value is the PublicKey
that matches the passed in key.
If validation fails the returned Promise will reject with the error.</p>

    <div class='pre p1 fill-light mt0'>validatePublicKeyRecord</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>key</span> <code class='quiet'>(<a href="https://nodejs.org/api/buffer.html">Buffer</a>)</code>
	    A valid key is of the form 
<code>'/pk/&#x3C;keymultihash>'</code>

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>publicKey</span> <code class='quiet'>(<a href="https://nodejs.org/api/buffer.html">Buffer</a>)</code>
	    The public key to validate against (protobuf encoded).

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='bestrecord'>
      bestRecord
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/selection.js#L14-L38'>
      <span>src/selection.js</span>
      </a>
    
  </div>
  

  <p>Select the best record out of the given records.</p>

    <div class='pre p1 fill-light mt0'>bestRecord</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>selectors</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>k</span> <code class='quiet'>(<a href="https://nodejs.org/api/buffer.html">Buffer</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>records</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://nodejs.org/api/buffer.html">Buffer</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>:
        The index of the best record.

      
    
  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='publickeyselector'>
      publicKeySelector
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/libp2p/js-libp2p-record/blob/9fa19ab8a6410842a2cf1deb9ec28d1021bc4d55/src/selectors/public-key.js#L12-L14'>
      <span>src/selectors/public-key.js</span>
      </a>
    
  </div>
  

  <p>Best record selector, for public key records.
Simply returns the first record, as all valid public key
records are equal.</p>

    <div class='pre p1 fill-light mt0'>publicKeySelector</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>k</span> <code class='quiet'>(<a href="https://nodejs.org/api/buffer.html">Buffer</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>records</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://nodejs.org/api/buffer.html">Buffer</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>:
        

      
    
  

  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
